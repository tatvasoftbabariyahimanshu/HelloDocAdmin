@using static HelloDocAdmin.Entity.ViewModels.AdminSite.Constant;
@model HelloDocAdmin.Entity.ViewModels.AdminSite.PatientRecordsView
@{
    Layout = "~/Views/Shared/_DashboardLayout.cshtml";
}
@{
    var enumData = from RequestType e in Enum.GetValues(typeof(RequestType))
                   select new
                   {
                       ID = (int)e,
                       Name = e.ToString()
                   };
}

<div class="container-fluid">
    <div class="card bg-transparent border-0">
     
        <div class="card-header d-flex justify-content-between  border-0  bg-transparent p-1  mt-3 mb-2">
            <div class="text-start d-flex align-items-center">
                <h5 class="mt-2 bold"><b> Patient Records</b></h5>

            </div>
           <div class="text-end">
                <a asp-controller="Records" asp-action="PatientRecord"
            class="btn btn-outline-info btn-back">
            <i class="fa-solid fa-share mx-2"></i>Back
            </a>
            </div>
           
        </div>
       
        <div class="card-body rounded shadow">
            <div class="position-relative ">


                <input asp-for="UserID" type="hidden" id="UserID" />

                <div class="middle loding-div position-absolute  top-50" style="left:50%;z-index:2">
                    <div class="bar bar1"></div>
                    <div class="bar bar2"></div>
                    <div class="bar bar3"></div>
                    <div class="bar bar4"></div>
                    <div class="bar bar5"></div>
                    <div class="bar bar6"></div>
                    <div class="bar bar7"></div>
                    <div class="bar bar8"></div>
                </div>


                <div id="SearchResult">
                </div>


            </div>
        </div>
    </div>

</div>
<script>
    $(function () {

        getfilterdata();


    });
</script>
<script>
    setTimeout(function () { $(".loding-div").hide() }, 500);
</script>
<script>
    function getfilterdata() {
        $(".loding-div").show();
        var userid = $('#UserID').val();


        var currentpage = $('#crt-page').val();
        var pagesize = $('#SizeSelect').val();

        $.ajax({
            url: "/Records/PatientRecordsList",
            type: "GET",
            data: {
                userid: userid,
                currentpage: currentpage,
                pagesize: pagesize
            },
            success: function (response) {
                setTimeout(function () { $(".loding-div").hide() }, 500);
                $('#SearchResult').html(response);
            },
            error: function () {

                alert("error");
            }
        });
    }
    function getpage(index) {
        $("#crt-page").val(index);

    }
</script>
 