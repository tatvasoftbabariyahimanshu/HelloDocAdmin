@using static HelloDocAdmin.Entity.ViewModels.AdminSite.Constant;
@{
    Layout = "~/Views/Shared/_DashboardLayout.cshtml";
    var enumData = from Status e in Enum.GetValues(typeof(Status))
                   select new
                   {
                       ID = (int)e,
                       Name = e.ToString()
                   };
    var reqtype = from RequestType e in Enum.GetValues(typeof(RequestType))
                  select new
                  {
                      ID = (int)e,
                      Name = e.ToString()
                  };
}

<div class="container-fluid">
    <div class="card bg-transparent border-0">
        <div class="card-header d-flex justify-content-between  border-0  bg-transparent p-1  mt-3 mb-2">
            <div class="text-start d-flex align-items-center">
                <h5 class="mt-2 bold"><b> Patient History</b></h5>

            </div>
            
        </div>

        <div class="card-body rounded shadow">
            <div class="row mt-3">
               
                <div class="col-md-3 mt-2">

                    <div class="inputs-control ">
                        <input placeholder=" " id="FirstName" class="input-outline w-100 inp admin-input " type="text">
                        <label class="inputs-lable">First Name</label>
                    </div>


                </div>
                <div class="col-md-3 mt-2">

                    <div class="inputs-control ">
                        <input placeholder=" " id="LastName" class="input-outline w-100 inp admin-input " type="text">
                        <label class="inputs-lable">Last Name</label>
                    </div>


                </div>
                <div class="col-md-3 mt-2">

                    <div class="inputs-control ">
                        <input placeholder=" " id="email" class="input-outline w-100 inp admin-input " type="text">
                        <label class="inputs-lable">Email</label>
                    </div>


                </div>
                <div class="col-md-3 mt-2">

                    <div class="inputs-control ">
                        <input placeholder=" " id="phonenumber" class="input-outline w-100 inp admin-input " type="text">
                        <label class="inputs-lable">Phone Number</label>
                    </div>


                </div>
            </div>
            <div class="text-end mt-2">
                <button onclick="getfilterdata()" id="save1" class="btn  btn-outline-info  mx-2 ">
                    Search
                </button>
                <button onclick="clearInputs()" class="btn  btn-outline-danger  mx-2 ">
                    Clear
                </button>
            </div>
            <div class="position-relative ">




                <div class="middle loding-div position-absolute  top-50" style="left:50%;z-index:2">
                    <div class="bar bar1"></div>
                    <div class="bar bar2"></div>
                    <div class="bar bar3"></div>
                    <div class="bar bar4"></div>
                    <div class="bar bar5"></div>
                    <div class="bar bar6"></div>
                    <div class="bar bar7"></div>
                    <div class="bar bar8"></div>
                </div>


                <div id="SearchResult">
                </div>


            </div>
        </div>
    </div>

</div>
<script>
    $(function () {
        
        getfilterdata();
   

    });
</script>
<script>

    function getfilterdata() {
        $(".loding-div").show();
        var firstname = $('#FirstName').val();
        var lastname = $('#LastName').val();
        var phonenumber = $('#phonenumber').val();
        var email = $('#email').val();
        
        var currentpage = $('#crt-page').val();
        var pagesize = $('#SizeSelect').val();

        $.ajax({
            url: "/Records/FilterPatient",
            type: "GET",
            data: {
                email: email,
                phonenumber: phonenumber,
                firstname: firstname,
                 lastname: lastname,
                currentpage: currentpage,
                pagesize: pagesize
            },
            success: function (response) {
                setTimeout(function () { $(".loding-div").hide() }, 500);
                $('#SearchResult').html(response);
            },
            error: function () {
              
                alert("error");
            }
        });
    }

    function getpage(index) {
        $("#crt-page").val(index);

    }
    function clearInputs() {
        $('#FirstName').val('');
        $('#LastName').val('');
        $('#phonenumber').val('');
        $('#email').val('');
       
    }

</script>